<main class="edit-category-container">
  <h2 class="edit-category-heading">Edit Category</h2>
  

  <form method="POST" action="/admin/category/edit/<%= category._id %>" class="edit-category-form">
   <% if (typeof error !== 'undefined') { %>
  <div class="error-message" style="color: #e74c3c;
  background-color: #fcebea;
  border: 1px solid #e0b4b4;
  padding: 10px;
  margin-bottom: 15px;
  border-radius: 5px;
  font-weight: 500;"><%= error %></div>
<% } %>

    <div class="form-group">
      <label>Category Name</label>
      <input type="text" name="categoryName" value="<%= category.name %>" required class="input-field" />
    </div>

    <div class="subcategory-section">
      <label>Subcategories</label>
      
      <% subcategories.forEach(function(subcategory, index) { %>
        <div class="subcategory-row">
          <input type="text" name="existingSubcategories[<%= subcategory._id %>]" value="<%= subcategory.name %>" class="input-field" />
          <button type="button" class="delete-btn" onclick="removeExistingSubcategory('<%= subcategory._id %>', this)">ğŸ—‘ï¸</button>
        </div>
      <% }); %>
    </div>

    <div id="newSubcategories"></div>

    <button type="button" class="add-btn" onclick="addNewSubcategoryField()">+ Add New Subcategory</button>

    <div class="button-group">
      <button type="submit" class="submit-btn">Update Category</button>
    </div>
  </form>
</main>

